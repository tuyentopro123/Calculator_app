(this.webpackJsonpcalculator_app=this.webpackJsonpcalculator_app||[]).push([[0],[,,function(e,_,t){"use strict";t.d(_,"a",(function(){return n})),t.d(_,"b",(function(){return a}));var n={ADD:"ADD",THEME:"THEME",CALC:"CALC",DELETE:"DELETE",DELETEONE:"DELETEONE"},a=[{display:"C",action:n.DELETE,class:"btn__op btn__c btn__cd"},{display:"D",action:n.DELETEONE,class:"btn__op btn__cd"},{display:"(",action:n.ADD,class:"btn__op"},{display:")",action:n.ADD,class:"btn__op"},{display:".",action:n.ADD,class:"number"},{display:"/",action:n.ADD,class:"btn__op"},{display:"7",action:n.ADD,class:"number"},{display:"8",action:n.ADD,class:"number"},{display:"9",action:n.ADD,class:"number"},{display:"x",action:n.ADD,class:"btn__op"},{display:"4",action:n.ADD,class:"number"},{display:"5",action:n.ADD,class:"number"},{display:"6",action:n.ADD,class:"number"},{display:"-",action:n.ADD,class:"btn__op"},{display:"1",action:n.ADD,class:"number"},{display:"2",action:n.ADD,class:"number"},{display:"3",action:n.ADD,class:"number"},{display:"+",action:n.ADD,class:"btn__op"},{display:"\u2600\ufe0f",action:n.THEME,class:"number"},{display:"0",action:n.ADD,class:"number"},{display:"=",action:n.CALC,class:"btn__op"}]},,,function(module,__webpack_exports__,__webpack_require__){"use strict";var D_front_end_project_calculator_app_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(6),react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(1),react__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__),_Calculator_css__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(12),_Calculator_css__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(_Calculator_css__WEBPACK_IMPORTED_MODULE_2__),_btnConfig__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(2),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(0),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__),y=1,Calculator=function Calculator(){var btnsRef=Object(react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null),expRef=Object(react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null),_useState=Object(react__WEBPACK_IMPORTED_MODULE_1__.useState)(""),_useState2=Object(D_front_end_project_calculator_app_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_0__.a)(_useState,2),expression=_useState2[0],setExpression=_useState2[1];Object(react__WEBPACK_IMPORTED_MODULE_1__.useEffect)((function(){Array.from(btnsRef.current.querySelectorAll("button")).forEach((function(e){return e.style.height=e.offsetWidth+"px"}))}),[]);var mouseClick=function(e){btnsRef.current;for(var _=Array.from(btnsRef.current.querySelectorAll("button")),t=0;t<_.length;t++)_[t].textContent===e.display&&(_[t].style.boxShadow="1px 1px 2px rgba(0,0,0,0.4) inset",console.log("1"))},mouseUpClick=function(e){btnsRef.current;for(var _=Array.from(btnsRef.current.querySelectorAll("button")),t=0;t<_.length;t++)_[t].textContent===e.display&&(_[t].style.boxShadow="0px 1px 1px rgb(255 255 255 / 80%) inset, 1px 1px 3px rgb(0 0 0 / 20%)",console.log("2"))},btnClick=function btnClick(item){var expDiv=expRef.current;if(item.action===_btnConfig__WEBPACK_IMPORTED_MODULE_3__.a.THEME&&document.body.classList.toggle("dark"),item.action===_btnConfig__WEBPACK_IMPORTED_MODULE_3__.a.ADD){addAnimSpan(item.display),expDiv.offsetWidth*y>expDiv.parentNode.offsetWidth-30&&(expDiv.style.transform="scale(".concat(y-.2,")"),y-=.2);var oper="x"!==item.display?item.display:"*";setExpression(expression+oper)}if(item.action===_btnConfig__WEBPACK_IMPORTED_MODULE_3__.a.DELETEONE&&(removeAnimSpan(item.display),setExpression(expression.slice(0,-1))),item.action===_btnConfig__WEBPACK_IMPORTED_MODULE_3__.a.DELETE&&(expDiv.parentNode.querySelector("div:last-child").innerHTML="",expDiv.style.transform="scale(".concat(1,")"),y=1,expDiv.innerHTML="",setExpression("")),item.action===_btnConfig__WEBPACK_IMPORTED_MODULE_3__.a.CALC){if(expression.trim().length<=0)return;expDiv.parentNode.querySelector("div:last-child").remove();var cloneNode=expDiv.cloneNode(!0);expDiv.parentNode.appendChild(cloneNode);var x=expDiv.parentNode.querySelector("div:last-child"),transform="translate(".concat(-(360-.4*x.offsetWidth)+"px",",").concat("-60px",") scale(0.4)");try{var res=eval(expression);setExpression(res.toString()),setTimeout((function(){cloneNode.style.transform=transform,expDiv.innerHTML="",addAnimSpan(Math.floor(1e8*res)/1e8)}),200)}catch(_unused){setTimeout((function(){cloneNode.style.transform="translate(".concat("-140px",",").concat("-50px",") scale(0.6)"),cloneNode.innerHTML="system error"}),200)}finally{console.log("calc complete")}}},addAnimSpan=function(e){var _=expRef.current,t=document.createElement("span");t.innerHTML=e,t.style.opacity="0",_.appendChild(t);var n=t.offsetWidth+"px";t.style.width="0",setTimeout((function(){t.style.opacity="1",t.style.width=n}),100)},addSquareRoot=function(e){var _=expRef.current,t=document.createElement("span");t.innerHTML=e+"(",t.style.opacity="0",_.appendChild(t);var n=t.offsetWidth+"px";t.style.width="0",setTimeout((function(){t.style.opacity="1",t.style.width=n}),100)},removeAnimSpan=function(e){var _=expRef.current;_.childNodes.length>0&&_.removeChild(_.childNodes[_.childNodes.length-1])};return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{className:"calculator",children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{className:"calculator__result",children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("div",{ref:expRef,className:"calculator__result__exp"}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("div",{className:"calculator__result__exp"})]}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("div",{ref:btnsRef,className:"calculator__btns",children:_btnConfig__WEBPACK_IMPORTED_MODULE_3__.b.map((function(e,_){return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("button",{className:e.class,onClick:function(){return btnClick(e)},onMouseDown:function(){return mouseClick(e)},onMouseUp:function(){return mouseUpClick(e)},children:e.display},_)}))})]})};__webpack_exports__.a=Calculator},,,,,,function(e,_,t){},function(e,_,t){},,function(e,_,t){"use strict";t.r(_);var n=t(1),a=t.n(n),s=t(4),r=t.n(s),c=(t(11),t(5)),o=t(0);var i=function(){return Object(o.jsx)("div",{children:Object(o.jsx)(c.a,{})})};r.a.render(Object(o.jsx)(a.a.StrictMode,{children:Object(o.jsx)(i,{})}),document.getElementById("root"))}],[[14,1,2]]]);
//# sourceMappingURL=main.909ef9e4.chunk.js.map